{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43847470-26a4b647964be33653231b3f4';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const findPhotoByRequst = q => {\n  const serchParams = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'all',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${serchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n\n    return response.json();\n  });\n};\n","export const createGalleryItemMarcup = images => {\n  return images\n    .map(\n      image =>\n        `<div class=\"card\">\n        <a href='${image.largeImageURL}'><img\n        src='${image.webformatURL}'\n        alt= '${image.tags}'\n        width=\"360\"\n        height=\"152\"\n      /></a>\n      <div>\n      <ul class=\"card-list\">\n        <li>\n          Likes\n          <span>${image.likes}</span>\n        </li>\n        <li>\n          Views\n          <span>${image.views}</span>\n        </li>\n        <li>\n          Comments\n          <span>${image.comments}</span>\n        </li>\n        <li>\n          Downloads\n          <span>${image.downloads}</span>\n        </li>\n      </ul>\n      </div>\n    </div>`\n    )\n    .join(' ');\n};\n","import { findPhotoByRequst } from './js/pixabay-api.js';\nimport { createGalleryItemMarcup } from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchFormEl = document.querySelector('.search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nsearchFormEl.reset();\n\nfunction onSearchFormSubmit(event) {\n  event.preventDefault();\n  const searchReqest = event.target.elements.searchQuery.value.trim();\n  galleryEl.innerHTML = '';\n\n    if (!searchReqest) {\n      return iziToast.info({\n        message: 'The search field must not be empty',\n        position: 'topCenter',\n        timeout: 2500,\n      });\n    }\n\n  loaderEl.classList.remove('is-hidden');\n\n  findPhotoByRequst(searchReqest)\n  .then(imagesData => {\n      if (imagesData.total === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          color: 'red',\n        });\n      }\n\n      galleryEl.innerHTML = createGalleryItemMarcup(imagesData.hits);\n      new SimpleLightbox('.js-gallery a', {\n        captionsData: 'alt',\n        captionDelay: '250',\n      });\n    })\n    .catch(error => console.log(error))\n    .finally(() =>  {\n      event.target.reset();\n      loaderEl.classList.add('is-hidden');\n    });\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["API_KEY","BASE_URL","findPhotoByRequst","q","serchParams","response","createGalleryItemMarcup","images","image","searchFormEl","galleryEl","loaderEl","onSearchFormSubmit","event","searchReqest","iziToast","imagesData","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAoBC,GAAK,CACpC,MAAMC,EAAc,IAAI,gBAAgB,CACtC,IAAKJ,EACL,EAAAG,EACA,WAAY,MACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAW,EAAE,EAAE,KAAKC,GAAY,CAC1D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGrC,OAAOA,EAAS,MACpB,CAAG,CACH,ECnBaC,EAA0BC,GAC9BA,EACJ,IACCC,GACE;AAAA,mBACWA,EAAM,aAAa;AAAA,eACvBA,EAAM,YAAY;AAAA,gBACjBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQRA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,kBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,kBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,kBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,WAK5B,EACA,KAAK,GAAG,ECxBPC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAEpDF,EAAa,MAAK,EAElB,SAASG,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EACpB,MAAMC,EAAeD,EAAM,OAAO,SAAS,YAAY,MAAM,OAG3D,GAFFH,EAAU,UAAY,GAEhB,CAACI,EACH,OAAOC,EAAS,KAAK,CACnB,QAAS,qCACT,SAAU,YACV,QAAS,IACjB,CAAO,EAGLJ,EAAS,UAAU,OAAO,WAAW,EAErCT,EAAkBY,CAAY,EAC7B,KAAKE,GAAc,CACZA,EAAW,QAAU,GACvBD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,MAAO,KACjB,CAAS,EAGHL,EAAU,UAAYJ,EAAwBU,EAAW,IAAI,EAC7D,IAAIC,EAAe,gBAAiB,CAClC,aAAc,MACd,aAAc,KACtB,CAAO,CACP,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAO,CACdL,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL,CAEAF,EAAa,iBAAiB,SAAUG,CAAkB"}